{% extends "../extends.html" %}

{% load dic %}
{% load static %}

{% block title %}
    Pedigree
{% endblock title %}

{% block links %}
    <link rel="stylesheet" href="{% static 'css/pedigree.css' %}">
    <link rel="stylesheet" href="{% static 'css/auth_form.css' %}">
    <script src="{% static 'js/pedigree.js' %}"></script>
{% endblock links %}

{% block body %}
    <script>sessionStorage.setItem("Pedigree", '{{dataID}}')</script>

    {% if status == "successful" %}
        <div class="pedigree" id="pedigree">
            <h1>Pedigree</h1>

            {% if not user.is_authenticated %}<h2>Some information may not available unless signed in.</h2>{% endif %}

        </div>
        <div id="cow-data" class="cow-data"></div>
        <div class="recessive-info" id="recessive-info">
            <code>
                -- Homozygous Dominant |
                -+ Heterozygous |
                ++ Homozygous Recessive
            </code> <a href="/recessives" class="as-btn">Genetic Recessive Information</a>
        </div>
    {% endif %}

    <form class="form">
        <h1>Find Pedigree for Animal</h1>

        {% if status == "failed" %}
            <ul class="errorlist">
                <li>
                    No

                    {% if form.sex.value == "Male" %}
                        Bull
                    {% else %}
                        Cow
                    {% endif %}

                    of Id {{ form.animalid.value }} Could be found.
                    Ensure you have the right Id & Sex then try again.
                </li>
            </ul>
            <br>
        {% endif %}

        {% if form.non_field_errors %}
            {{ form.non_field_errors }}
            <br>
        {% endif %}

        {% for field in form %}
            {{ field.label }}
            {{ field }}
            {{ field.errors }}
            <div class="help">{{ field.help_text }}</div>
            <br>
        {% endfor %}

        <button type="submit">Submit</button>
    </form>
{% endblock body %}
